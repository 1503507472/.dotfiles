---
- name: ensure tmux package is managed
  include_role:
    name: aur
    tasks_from: install_package.yml
  with_items:
    - tmux-git

- name: ensure tmux config directory exists
  file:
    path: "{{ tmux_config_path }}"
    state: directory

- name: ensure {{ tmux_config_path }}/tmux,conf is linked to tmux/files
  file:
    src: "{{ role_path }}/files/tmux.conf"
    dest: "{{ tmux_config_path }}/tmux.conf"
    state: link
    force: true

- name: install tpm
  git:
    repo: git@github.com:tmux-plugins/tpm.git
    dest: "{{ tmux_config_path }}/plugins/tpm"
