#!/bin/bash

SOURCE=$2;
DEST=$3;

OVERWRITE=0;

if [ "$1" = "-f" ]; then 
  OVERWRITE=1;
else 
  SOURCE=$2
  DEST=$3
fi

DIRNAME=$(dirname -- "$DEST")

if [ -a "$DEST" ]; then
  if [ $OVERWRITE = 0 ]; then
    echo -e "File \033[35m$DEST \033[0mexists. Please remove it first.";
    exit 1;
  fi
fi

mkdir -p "$DIRNAME";

ln -sf "$SOURCE" "$DEST" \
  && echo -e "Created a symlink from \033[35m$SOURCE \033[0mto \033[36m$DEST \033[0m"
